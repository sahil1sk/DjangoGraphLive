(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(4),o=n.n(r),l=(n(10),n(2)),c=(n(11),n(1)),s="FETCH_TASK_DATA",d="CREATE_TASK",u="UPDATE_TASK",m="DELETE_TASK",p=function(e,t,n){fetch("http://127.0.0.1:8000/graphqlApi/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})}).then(function(e){if(e.ok)return e;var t=new Error("Error: "+e.status+": "+e.statusText);throw t.response=e,t},function(e){throw new Error(e.message)}).then(function(e){return e.json()}).then(function(e){n(e.data)}).catch(function(e){return alert("error: "+e.message+"\n Please refresh your page")})};function f(e,t){switch(t.type){case s:return Object(c.a)({},e,{tasks:t.payload});case d:var n=[{node:t.payload}].concat(e.tasks);return Object(c.a)({},e,{tasks:n});case u:var a=e.tasks.filter(function(e){return e.node.id===t.payload.idIs?(e.node.title=t.payload.task.title,e.node.completed=t.payload.task.completed,e):e});return Object(c.a)({},e,{tasks:a});case m:return Object(c.a)({},e,{tasks:e.tasks.filter(function(e){return e.node.id!==t.payload})});default:return e}}var k=function(e){p("\n        query {\n            allTasks(first:20){\n                edges{\n                  node{\n                    id\n                    title\n                    completed\n                  }\n                }\n            }\n        }\n    ",{id:"",title:""},e)},v=function(e,t){p("\n    mutation creatingTask( $title: String!){\n      createTask(input:{\n        title:$title\n      }){\n      task{\n          id\n          title\n          completed\n        }\n      }\n    }\n  ",{title:e},t)},E=function(e,t){var n={id:e.node.id};p("\n    mutation deleteTask( $id:ID!){\n      deleteTask(input:{\n        Id:$id\n      }){\n      task{\n          id\n        }\n      }\n    }  \n  ",n,t)},y=function(e,t,n){var a={id:e.node.id,title:e.node.title};!0===t&&(a={id:e.node.id,completed:!e.node.completed});p("\n    mutation updateTask( $id:ID! , $title: String, $completed:Boolean){\n      updateTask(input:{\n        Id:$id, title: $title, completed: $completed\n      }){\n      task{\n          id\n          title\n          completed\n        }\n      }\n    }  \n  ",a,n)},b=Object(a.createContext)();var T=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],o=n[1],p=Object(a.useReducer)(f,{tasks:[]}),T=Object(l.a)(p,2),h=T[0],w=T[1],g=0,j=function(e){return w({type:s,payload:e.allTasks.edges})},O=function(e){return w({type:d,payload:e.createTask.task})},x=function(e){return w({type:m,payload:g})},S=function(e){return w({type:u,payload:{idIs:g,task:e.updateTask.task}})};return Object(a.useEffect)(function(){!1===r&&(k(j),o(!0))},[]),i.a.createElement(b.Provider,{value:Object(c.a)({},h,{createTask:function(e){v(e,O)},deleteTask:function(e){g=e.node.id,E(e,x)},updatingTask:function(e,t){g=e.node.id,y(e,t,S)}})},e.children,"                              ")};function h(){var e=Object(a.useContext)(b),t=e.tasks,n=e.deleteTask,r=e.updatingTask,o=Object(a.useState)(!1),c=Object(l.a)(o,2),s=c[0],d=c[1],u=Object(a.useState)({node:{id:"",title:"",completed:""}}),m=Object(l.a)(u,2),p=m[0],f=m[1],k=document.getElementById("title");return i.a.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center"},id:"particles-js"},i.a.createElement("div",{style:{position:"absolute",minHeight:"100vh"},className:"container"},i.a.createElement("div",{id:"task-container"},i.a.createElement("div",{id:"form-wrapper"},i.a.createElement("form",{id:"form",onSubmit:function(t){t.preventDefault(),""==!k.value.replace(/\s/g,"")&&(s?(p.node.title=k.value,r(p,!1),k.value="",d(!1)):((0,e.createTask)(k.value),k.value=""))}},i.a.createElement("div",{className:"flex-wrapper"},i.a.createElement("div",{style:{flex:6}},i.a.createElement("input",{className:"form-control",id:"title",type:"text",name:"title",placeholder:"Add task.."})),i.a.createElement("div",{style:{flex:1}},i.a.createElement("input",{id:"submit",className:"btn btn-warning",type:"submit",name:"Add"}))))),i.a.createElement("div",{id:"list-wrapper"},t.map(function(e){return i.a.createElement("div",{key:e.node.id,className:"task-wrapper flex-wrapper"},i.a.createElement("div",{onClick:function(){return function(e){r(e,!0)}(e)},style:{flex:7}}," ",!1===e.node.completed?i.a.createElement("span",null,e.node.title):i.a.createElement("strike",null,e.node.title)),i.a.createElement("div",{style:{flex:1}},i.a.createElement("button",{onClick:function(){return function(e){k.value=e.node.title,f(e),d(!0)}(e)},className:"btn btn-sm btn-outline-info"},"Edit")),i.a.createElement("div",{style:{flex:1}},i.a.createElement("button",{onClick:function(){return n(e)},className:"btn btn-sm btn-outline-dark delete"},i.a.createElement("i",{style:{color:"inherit"},className:"fa fa-trash"}))))})))))}var w=function(){return i.a.createElement(T,null,i.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}],[[5,1,2]]]);
//# sourceMappingURL=main.cef81634.chunk.js.map